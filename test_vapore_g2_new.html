<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Unit√† G2 - MOTORE A VAPORE</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ee0979 0%, #ff6a00 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #ee0979;
        }

        .header h1 {
            color: #ee0979;
            font-size: 2em;
            margin-bottom: 10px;
        }

        .header .subtitle {
            color: #ff6a00;
            font-size: 1.2em;
            font-weight: 600;
        }

        .section {
            margin-bottom: 40px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #ee0979;
        }

        .section-title {
            color: #c70763;
            font-size: 1.3em;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .question {
            margin-bottom: 25px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .question-text {
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
            font-size: 1.05em;
        }

        .option {
            padding: 12px 15px;
            margin: 8px 0;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: #ee0979;
            background: #fff0f6;
            transform: translateX(5px);
        }

        .option input[type="radio"] {
            margin-right: 10px;
            cursor: pointer;
        }

        .tf-buttons {
            display: flex;
            gap: 15px;
        }

        .tf-button {
            flex: 1;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            font-weight: 600;
            transition: all 0.3s ease;
            background: white;
        }

        .tf-button:hover {
            border-color: #ee0979;
            background: #fff0f6;
        }

        .tf-button.selected {
            background: #ee0979;
            color: white;
            border-color: #ee0979;
        }

        .submit-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #ee0979 0%, #ff6a00 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(238, 9, 121, 0.4);
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(238, 9, 121, 0.6);
        }

        .verify-btn {
            padding: 12px 25px;
            background: linear-gradient(135deg, #ee0979 0%, #ff6a00 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
        }

        .verify-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(238, 9, 121, 0.4);
        }

        .result {
            margin-top: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            border-radius: 15px;
            text-align: center;
            font-size: 1.3em;
            font-weight: bold;
            display: none;
            box-shadow: 0 4px 15px rgba(17, 153, 142, 0.4);
        }

        .feedback {
            margin-top: 10px;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            display: none;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
            display: block;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
            display: block;
        }

        .explanation {
            margin-top: 8px;
            font-size: 0.95em;
            font-weight: normal;
            line-height: 1.5;
        }

        .instruction {
            background: #e3f2fd;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 15px;
            color: #1565c0;
            font-style: italic;
        }

        select {
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
        }

        select:focus {
            outline: none;
            border-color: #ee0979;
        }

        .order-list {
            padding: 0;
        }

        .order-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            gap: 10px;
        }

        .order-buttons {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .arrow-btn {
            width: 40px;
            height: 40px;
            border: 2px solid #ee0979;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .arrow-btn:hover {
            background: #ee0979;
            color: white;
            transform: scale(1.1);
        }

        .arrow-btn:active {
            transform: scale(0.95);
        }

        .arrow-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            background: #f5f5f5;
        }

        .order-text {
            flex: 1;
            font-weight: 500;
            font-size: 1.05em;
        }

        .order-number {
            background: #ee0979;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß≠ TEST UNIT√Ä G2 ‚Äì SEZIONE 4</h1>
            <div class="subtitle">‚ô®Ô∏è MOTORE A VAPORE</div>
        </div>

        <!-- PARTE 1: SCELTA MULTIPLA -->
        <div class="section">
            <div class="section-title">üîπ Parte 1 ‚Äì Scelta multipla (una sola risposta corretta)</div>
            
            <div class="question">
                <div class="question-text">1Ô∏è‚É£ La macchina a vapore √® considerata:</div>
                <label class="option">
                    <input type="radio" name="q1" value="a" onchange="checkQuestion('q1')">
                    Il primo motore moderno, tutto in ferro
                </label>
                <label class="option">
                    <input type="radio" name="q1" value="b" onchange="checkQuestion('q1')">
                    Una macchina operatrice antica in legno
                </label>
                <label class="option">
                    <input type="radio" name="q1" value="c" onchange="checkQuestion('q1')">
                    Una turbina idraulica ad alta efficienza
                </label>
                <label class="option">
                    <input type="radio" name="q1" value="d" onchange="checkQuestion('q1')">
                    Un motore elettrico di fine Novecento
                </label>
                <div class="feedback" id="feedback-q1"></div>
            </div>

            <div class="question">
                <div class="question-text">2Ô∏è‚É£ Il motore a vapore utilizza:</div>
                <label class="option">
                    <input type="radio" name="q2" value="a" onchange="checkQuestion('q2')">
                    Vapore prodotto in una caldaia
                </label>
                <label class="option">
                    <input type="radio" name="q2" value="b" onchange="checkQuestion('q2')">
                    Corrente elettrica
                </label>
                <label class="option">
                    <input type="radio" name="q2" value="c" onchange="checkQuestion('q2')">
                    Vento e acqua
                </label>
                <label class="option">
                    <input type="radio" name="q2" value="d" onchange="checkQuestion('q2')">
                    Aria compressa
                </label>
                <div class="feedback" id="feedback-q2"></div>
            </div>

            <div class="question">
                <div class="question-text">3Ô∏è‚É£ Nell'Ottocento la macchina a vapore sostitu√¨:</div>
                <label class="option">
                    <input type="radio" name="q3" value="a" onchange="checkQuestion('q3')">
                    La ruota idraulica
                </label>
                <label class="option">
                    <input type="radio" name="q3" value="b" onchange="checkQuestion('q3')">
                    Il motore a scoppio
                </label>
                <label class="option">
                    <input type="radio" name="q3" value="c" onchange="checkQuestion('q3')">
                    L'alternatore
                </label>
                <label class="option">
                    <input type="radio" name="q3" value="d" onchange="checkQuestion('q3')">
                    La turbina Pelton
                </label>
                <div class="feedback" id="feedback-q3"></div>
            </div>

            <div class="question">
                <div class="question-text">4Ô∏è‚É£ Il cassetto di distribuzione serve per:</div>
                <label class="option">
                    <input type="radio" name="q4" value="a" onchange="checkQuestion('q4')">
                    Aprire e chiudere le luci dove passa il vapore
                </label>
                <label class="option">
                    <input type="radio" name="q4" value="b" onchange="checkQuestion('q4')">
                    Far girare il volano
                </label>
                <label class="option">
                    <input type="radio" name="q4" value="c" onchange="checkQuestion('q4')">
                    Far uscire il vapore di scarico
                </label>
                <label class="option">
                    <input type="radio" name="q4" value="d" onchange="checkQuestion('q4')">
                    Regolare la pressione nella caldaia
                </label>
                <div class="feedback" id="feedback-q4"></div>
            </div>

            <div class="question">
                <div class="question-text">5Ô∏è‚É£ Lo stantuffo si muove:</div>
                <label class="option">
                    <input type="radio" name="q5" value="a" onchange="checkQuestion('q5')">
                    All'interno del cilindro, spinto dal vapore
                </label>
                <label class="option">
                    <input type="radio" name="q5" value="b" onchange="checkQuestion('q5')">
                    Sulla ruota del volano
                </label>
                <label class="option">
                    <input type="radio" name="q5" value="c" onchange="checkQuestion('q5')">
                    All'interno dell'ugello
                </label>
                <label class="option">
                    <input type="radio" name="q5" value="d" onchange="checkQuestion('q5')">
                    All'interno della caldaia
                </label>
                <div class="feedback" id="feedback-q5"></div>
            </div>

            <div class="question">
                <div class="question-text">6Ô∏è‚É£ La biella collega:</div>
                <label class="option">
                    <input type="radio" name="q6" value="a" onchange="checkQuestion('q6')">
                    Lo stantuffo con la manovella
                </label>
                <label class="option">
                    <input type="radio" name="q6" value="b" onchange="checkQuestion('q6')">
                    Il volano con la caldaia
                </label>
                <label class="option">
                    <input type="radio" name="q6" value="c" onchange="checkQuestion('q6')">
                    L'albero motore con il cassetto di distribuzione
                </label>
                <label class="option">
                    <input type="radio" name="q6" value="d" onchange="checkQuestion('q6')">
                    L'ugello con il cilindro
                </label>
                <div class="feedback" id="feedback-q6"></div>
            </div>

            <div class="question">
                <div class="question-text">7Ô∏è‚É£ Il volano ha la funzione di:</div>
                <label class="option">
                    <input type="radio" name="q7" value="a" onchange="checkQuestion('q7')">
                    Mantenere il moto per inerzia anche quando lo stantuffo √® fermo
                </label>
                <label class="option">
                    <input type="radio" name="q7" value="b" onchange="checkQuestion('q7')">
                    Aprire le luci del vapore
                </label>
                <label class="option">
                    <input type="radio" name="q7" value="c" onchange="checkQuestion('q7')">
                    Controllare la temperatura
                </label>
                <label class="option">
                    <input type="radio" name="q7" value="d" onchange="checkQuestion('q7')">
                    Misurare la pressione
                </label>
                <div class="feedback" id="feedback-q7"></div>
            </div>

            <div class="question">
                <div class="question-text">8Ô∏è‚É£ L'azionatore del cassetto di distribuzione:</div>
                <label class="option">
                    <input type="radio" name="q8" value="a" onchange="checkQuestion('q8')">
                    Apre l'altra luce ogni mezzo giro dell'albero
                </label>
                <label class="option">
                    <input type="radio" name="q8" value="b" onchange="checkQuestion('q8')">
                    Chiude il vapore in uscita
                </label>
                <label class="option">
                    <input type="radio" name="q8" value="c" onchange="checkQuestion('q8')">
                    Ferma la biella
                </label>
                <label class="option">
                    <input type="radio" name="q8" value="d" onchange="checkQuestion('q8')">
                    Regola la temperatura del vapore
                </label>
                <div class="feedback" id="feedback-q8"></div>
            </div>
        </div>

        <!-- PARTE 2: VERO O FALSO -->
        <div class="section">
            <div class="section-title">üîπ Parte 2 ‚Äì Vero o Falso</div>
            
            <div class="question">
                <div class="question-text">1Ô∏è‚É£ Il vapore entra nel cilindro attraverso la luce destra o sinistra.</div>
                <div class="tf-buttons">
                    <div class="tf-button" onclick="selectTF('tf1', 'vero')">‚úÖ VERO</div>
                    <div class="tf-button" onclick="selectTF('tf1', 'falso')">‚ùå FALSO</div>
                </div>
                <input type="hidden" id="tf1" value="">
                <div class="feedback" id="feedback-tf1"></div>
            </div>

            <div class="question">
                <div class="question-text">2Ô∏è‚É£ Lo stantuffo spinge la biella, che fa ruotare la manovella.</div>
                <div class="tf-buttons">
                    <div class="tf-button" onclick="selectTF('tf2', 'vero')">‚úÖ VERO</div>
                    <div class="tf-button" onclick="selectTF('tf2', 'falso')">‚ùå FALSO</div>
                </div>
                <input type="hidden" id="tf2" value="">
                <div class="feedback" id="feedback-tf2"></div>
            </div>

            <div class="question">
                <div class="question-text">3Ô∏è‚É£ Il volano si ferma completamente quando lo stantuffo cambia direzione.</div>
                <div class="tf-buttons">
                    <div class="tf-button" onclick="selectTF('tf3', 'vero')">‚úÖ VERO</div>
                    <div class="tf-button" onclick="selectTF('tf3', 'falso')">‚ùå FALSO</div>
                </div>
                <input type="hidden" id="tf3" value="">
                <div class="feedback" id="feedback-tf3"></div>
            </div>

            <div class="question">
                <div class="question-text">4Ô∏è‚É£ Il cassetto di distribuzione regola il flusso del vapore.</div>
                <div class="tf-buttons">
                    <div class="tf-button" onclick="selectTF('tf4', 'vero')">‚úÖ VERO</div>
                    <div class="tf-button" onclick="selectTF('tf4', 'falso')">‚ùå FALSO</div>
                </div>
                <input type="hidden" id="tf4" value="">
                <div class="feedback" id="feedback-tf4"></div>
            </div>

            <div class="question">
                <div class="question-text">5Ô∏è‚É£ La macchina a vapore funziona con energia elettrica.</div>
                <div class="tf-buttons">
                    <div class="tf-button" onclick="selectTF('tf5', 'vero')">‚úÖ VERO</div>
                    <div class="tf-button" onclick="selectTF('tf5', 'falso')">‚ùå FALSO</div>
                </div>
                <input type="hidden" id="tf5" value="">
                <div class="feedback" id="feedback-tf5"></div>
            </div>
        </div>

        <!-- PARTE 3: ASSOCIAZIONI -->
        <div class="section">
            <div class="section-title">üîπ Parte 3 ‚Äì Associazioni</div>
            <div class="instruction">Collega ciascun componente alla sua funzione</div>
            
            <div class="question">
                <div class="question-text">Caldaia ‚Üí</div>
                <select id="match1" onchange="checkMatch('match1')">
                    <option value="">-- Seleziona la funzione --</option>
                    <option value="caldaia">‚ô®Ô∏è Produce il vapore ad alta pressione</option>
                    <option value="cassetto">üîÑ Apre e chiude le luci del vapore</option>
                    <option value="cilindro">‚öôÔ∏è Contiene lo stantuffo</option>
                    <option value="stantuffo">‚ÜîÔ∏è Si muove nel cilindro spinto dal vapore</option>
                    <option value="biella">üîó Collega stantuffo e manovella</option>
                    <option value="manovella">üîÅ Trasforma il moto alternato in rotatorio</option>
                    <option value="volano">‚öôÔ∏è Mantiene il moto per inerzia</option>
                    <option value="azionatore">üîÑ Cambia la luce aperta ogni mezzo giro</option>
                </select>
                <div class="feedback" id="feedback-match1"></div>
            </div>

            <div class="question">
                <div class="question-text">Cassetto di distribuzione ‚Üí</div>
                <select id="match2" onchange="checkMatch('match2')">
                    <option value="">-- Seleziona la funzione --</option>
                    <option value="caldaia">‚ô®Ô∏è Produce il vapore ad alta pressione</option>
                    <option value="cassetto">üîÑ Apre e chiude le luci del vapore</option>
                    <option value="cilindro">‚öôÔ∏è Contiene lo stantuffo</option>
                    <option value="stantuffo">‚ÜîÔ∏è Si muove nel cilindro spinto dal vapore</option>
                    <option value="biella">üîó Collega stantuffo e manovella</option>
                    <option value="manovella">üîÅ Trasforma il moto alternato in rotatorio</option>
                    <option value="volano">‚öôÔ∏è Mantiene il moto per inerzia</option>
                    <option value="azionatore">üîÑ Cambia la luce aperta ogni mezzo giro</option>
                </select>
                <div class="feedback" id="feedback-match2"></div>
            </div>

            <div class="question">
                <div class="question-text">Cilindro ‚Üí</div>
                <select id="match3" onchange="checkMatch('match3')">
                    <option value="">-- Seleziona la funzione --</option>
                    <option value="caldaia">‚ô®Ô∏è Produce il vapore ad alta pressione</option>
                    <option value="cassetto">üîÑ Apre e chiude le luci del vapore</option>
                    <option value="cilindro">‚öôÔ∏è Contiene lo stantuffo</option>
                    <option value="stantuffo">‚ÜîÔ∏è Si muove nel cilindro spinto dal vapore</option>
                    <option value="biella">üîó Collega stantuffo e manovella</option>
                    <option value="manovella">üîÅ Trasforma il moto alternato in rotatorio</option>
                    <option value="volano">‚öôÔ∏è Mantiene il moto per inerzia</option>
                    <option value="azionatore">üîÑ Cambia la luce aperta ogni mezzo giro</option>
                </select>
                <div class="feedback" id="feedback-match3"></div>
            </div>

            <div class="question">
                <div class="question-text">Stantuffo ‚Üí</div>
                <select id="match4" onchange="checkMatch('match4')">
                    <option value="">-- Seleziona la funzione --</option>
                    <option value="caldaia">‚ô®Ô∏è Produce il vapore ad alta pressione</option>
                    <option value="cassetto">üîÑ Apre e chiude le luci del vapore</option>
                    <option value="cilindro">‚öôÔ∏è Contiene lo stantuffo</option>
                    <option value="stantuffo">‚ÜîÔ∏è Si muove nel cilindro spinto dal vapore</option>
                    <option value="biella">üîó Collega stantuffo e manovella</option>
                    <option value="manovella">üîÅ Trasforma il moto alternato in rotatorio</option>
                    <option value="volano">‚öôÔ∏è Mantiene il moto per inerzia</option>
                    <option value="azionatore">üîÑ Cambia la luce aperta ogni mezzo giro</option>
                </select>
                <div class="feedback" id="feedback-match4"></div>
            </div>

            <div class="question">
                <div class="question-text">Biella ‚Üí</div>
                <select id="match5" onchange="checkMatch('match5')">
                    <option value="">-- Seleziona la funzione --</option>
                    <option value="caldaia">‚ô®Ô∏è Produce il vapore ad alta pressione</option>
                    <option value="cassetto">üîÑ Apre e chiude le luci del vapore</option>
                    <option value="cilindro">‚öôÔ∏è Contiene lo stantuffo</option>
                    <option value="stantuffo">‚ÜîÔ∏è Si muove nel cilindro spinto dal vapore</option>
                    <option value="biella">üîó Collega stantuffo e manovella</option>
                    <option value="manovella">üîÅ Trasforma il moto alternato in rotatorio</option>
                    <option value="volano">‚öôÔ∏è Mantiene il moto per inerzia</option>
                    <option value="azionatore">üîÑ Cambia la luce aperta ogni mezzo giro</option>
                </select>
                <div class="feedback" id="feedback-match5"></div>
            </div>

            <div class="question">
                <div class="question-text">Manovella ‚Üí</div>
                <select id="match6" onchange="checkMatch('match6')">
                    <option value="">-- Seleziona la funzione --</option>
                    <option value="caldaia">‚ô®Ô∏è Produce il vapore ad alta pressione</option>
                    <option value="cassetto">üîÑ Apre e chiude le luci del vapore</option>
                    <option value="cilindro">‚öôÔ∏è Contiene lo stantuffo</option>
                    <option value="stantuffo">‚ÜîÔ∏è Si muove nel cilindro spinto dal vapore</option>
                    <option value="biella">üîó Collega stantuffo e manovella</option>
                    <option value="manovella">üîÅ Trasforma il moto alternato in rotatorio</option>
                    <option value="volano">‚öôÔ∏è Mantiene il moto per inerzia</option>
                    <option value="azionatore">üîÑ Cambia la luce aperta ogni mezzo giro</option>
                </select>
                <div class="feedback" id="feedback-match6"></div>
            </div>

            <div class="question">
                <div class="question-text">Volano ‚Üí</div>
                <select id="match7" onchange="checkMatch('match7')">
                    <option value="">-- Seleziona la funzione --</option>
                    <option value="caldaia">‚ô®Ô∏è Produce il vapore ad alta pressione</option>
                    <option value="cassetto">üîÑ Apre e chiude le luci del vapore</option>
                    <option value="cilindro">‚öôÔ∏è Contiene lo stantuffo</option>
                    <option value="stantuffo">‚ÜîÔ∏è Si muove nel cilindro spinto dal vapore</option>
                    <option value="biella">üîó Collega stantuffo e manovella</option>
                    <option value="manovella">üîÅ Trasforma il moto alternato in rotatorio</option>
                    <option value="volano">‚öôÔ∏è Mantiene il moto per inerzia</option>
                    <option value="azionatore">üîÑ Cambia la luce aperta ogni mezzo giro</option>
                </select>
                <div class="feedback" id="feedback-match7"></div>
            </div>

            <div class="question">
                <div class="question-text">Azionatore del cassetto ‚Üí</div>
                <select id="match8" onchange="checkMatch('match8')">
                    <option value="">-- Seleziona la funzione --</option>
                    <option value="caldaia">‚ô®Ô∏è Produce il vapore ad alta pressione</option>
                    <option value="cassetto">üîÑ Apre e chiude le luci del vapore</option>
                    <option value="cilindro">‚öôÔ∏è Contiene lo stantuffo</option>
                    <option value="stantuffo">‚ÜîÔ∏è Si muove nel cilindro spinto dal vapore</option>
                    <option value="biella">üîó Collega stantuffo e manovella</option>
                    <option value="manovella">üîÅ Trasforma il moto alternato in rotatorio</option>
                    <option value="volano">‚öôÔ∏è Mantiene il moto per inerzia</option>
                    <option value="azionatore">üîÑ Cambia la luce aperta ogni mezzo giro</option>
                </select>
                <div class="feedback" id="feedback-match8"></div>
            </div>
        </div>

        <!-- PARTE 4: ORDINAMENTO CON FRECCE -->
        <div class="section">
            <div class="section-title">üîπ Parte 4 ‚Äì Metti in ordine</div>
            <div class="instruction">üí° Usa le frecce ‚Üë ‚Üì per ordinare le fasi del funzionamento del motore a vapore (un ciclo completo)</div>
            
            <div class="question">
                <div class="order-list" id="orderList"></div>
                <div class="feedback" id="feedback-order"></div>
                <button class="verify-btn" onclick="checkOrder()">‚úì Verifica Ordine</button>
            </div>
        </div>

        <!-- PARTE 5: SCELTA MULTIPLA RIEPILOGATIVA -->
        <div class="section">
            <div class="section-title">üîπ Parte 5 ‚Äì Scelta multipla riepilogativa</div>
            
            <div class="question">
                <div class="question-text">1Ô∏è‚É£ La luce destra serve per:</div>
                <label class="option">
                    <input type="radio" name="q9" value="a" onchange="checkQuestion('q9')">
                    Far entrare il vapore nel cilindro dalla parte destra
                </label>
                <label class="option">
                    <input type="radio" name="q9" value="b" onchange="checkQuestion('q9')">
                    Far uscire il vapore esausto
                </label>
                <label class="option">
                    <input type="radio" name="q9" value="c" onchange="checkQuestion('q9')">
                    Azionare il volano
                </label>
                <label class="option">
                    <input type="radio" name="q9" value="d" onchange="checkQuestion('q9')">
                    Controllare la caldaia
                </label>
                <div class="feedback" id="feedback-q9"></div>
            </div>

            <div class="question">
                <div class="question-text">2Ô∏è‚É£ La luce sinistra si apre:</div>
                <label class="option">
                    <input type="radio" name="q10" value="a" onchange="checkQuestion('q10')">
                    Quando l'albero motore compie mezzo giro
                </label>
                <label class="option">
                    <input type="radio" name="q10" value="b" onchange="checkQuestion('q10')">
                    Quando si chiude la chiusa
                </label>
                <label class="option">
                    <input type="radio" name="q10" value="c" onchange="checkQuestion('q10')">
                    Solo all'inizio del ciclo
                </label>
                <label class="option">
                    <input type="radio" name="q10" value="d" onchange="checkQuestion('q10')">
                    Alla fine della corsa dello stantuffo verso sinistra
                </label>
                <div class="feedback" id="feedback-q10"></div>
            </div>

            <div class="question">
                <div class="question-text">3Ô∏è‚É£ Il vapore esausto:</div>
                <label class="option">
                    <input type="radio" name="q11" value="a" onchange="checkQuestion('q11')">
                    Esce dal cilindro dopo aver spinto lo stantuffo
                </label>
                <label class="option">
                    <input type="radio" name="q11" value="b" onchange="checkQuestion('q11')">
                    Entra nel cassetto di distribuzione
                </label>
                <label class="option">
                    <input type="radio" name="q11" value="c" onchange="checkQuestion('q11')">
                    Fa girare la manovella
                </label>
                <label class="option">
                    <input type="radio" name="q11" value="d" onchange="checkQuestion('q11')">
                    Alimenta la caldaia
                </label>
                <div class="feedback" id="feedback-q11"></div>
            </div>

            <div class="question">
                <div class="question-text">4Ô∏è‚É£ Il cilindro:</div>
                <label class="option">
                    <input type="radio" name="q12" value="a" onchange="checkQuestion('q12')">
                    √à il luogo in cui scorre lo stantuffo
                </label>
                <label class="option">
                    <input type="radio" name="q12" value="b" onchange="checkQuestion('q12')">
                    Contiene la caldaia
                </label>
                <label class="option">
                    <input type="radio" name="q12" value="c" onchange="checkQuestion('q12')">
                    Apre le luci del vapore
                </label>
                <label class="option">
                    <input type="radio" name="q12" value="d" onchange="checkQuestion('q12')">
                    Sostiene il volano
                </label>
                <div class="feedback" id="feedback-q12"></div>
            </div>
        </div>

        <button class="submit-btn" onclick="showFinalScore()">üìù MOSTRA PUNTEGGIO FINALE</button>
        
        <div class="result" id="result"></div>
    </div>

    <script>
        // Risposte corrette con spiegazioni
        const correctAnswers = {
            q1: {
                answer: 'a',
                explanation: 'La macchina a vapore √® considerata il primo motore moderno perch√© ha segnato l\'inizio della rivoluzione industriale ed era costruita interamente in ferro, a differenza delle macchine precedenti.'
            },
            q2: {
                answer: 'a',
                explanation: 'Il motore a vapore funziona utilizzando vapore ad alta pressione prodotto in una caldaia che riscalda l\'acqua.'
            },
            q3: {
                answer: 'a',
                explanation: 'Nell\'Ottocento la macchina a vapore sostitu√¨ la ruota idraulica nelle fabbriche, permettendo di localizzare gli impianti ovunque, non solo vicino ai corsi d\'acqua.'
            },
            q4: {
                answer: 'a',
                explanation: 'Il cassetto di distribuzione √® il componente che apre e chiude le luci (aperture) da cui il vapore entra e esce dal cilindro, controllando cos√¨ il funzionamento del motore.'
            },
            q5: {
                answer: 'a',
                explanation: 'Lo stantuffo √® un pistone che si muove avanti e indietro all\'interno del cilindro, spinto dalla pressione del vapore.'
            },
            q6: {
                answer: 'a',
                explanation: 'La biella √® l\'elemento di collegamento tra lo stantuffo (che si muove in linea retta) e la manovella (che ruota), trasformando il moto rettilineo alternato in moto rotatorio.'
            },
            q7: {
                answer: 'a',
                explanation: 'Il volano √® una ruota pesante che, grazie alla sua inerzia, mantiene il movimento rotatorio anche quando lo stantuffo cambia direzione, garantendo cos√¨ la continuit√† del moto.'
            },
            q8: {
                answer: 'a',
                explanation: 'L\'azionatore del cassetto √® collegato all\'albero motore e fa s√¨ che ogni mezzo giro dell\'albero venga aperta la luce opposta, alternando l\'ingresso del vapore sui due lati dello stantuffo.'
            },
            tf1: {
                answer: 'vero',
                explanation: 'Corretto! Il vapore entra alternativamente dalla luce destra o sinistra del cilindro, spingendo lo stantuffo prima in una direzione e poi nell\'altra.'
            },
            tf2: {
                answer: 'vero',
                explanation: 'Esatto! Lo stantuffo, spinto dal vapore, trasmette la sua forza alla biella che a sua volta fa ruotare la manovella collegata all\'albero motore.'
            },
            tf3: {
                answer: 'falso',
                explanation: 'No, il volano NON si ferma. Grazie alla sua massa e inerzia, continua a girare anche quando lo stantuffo cambia direzione, mantenendo uniforme il movimento del motore.'
            },
            tf4: {
                answer: 'vero',
                explanation: 'Corretto! Il cassetto di distribuzione apre e chiude le luci del cilindro, regolando quando e dove il vapore entra ed esce, controllando cos√¨ il flusso di vapore nel motore.'
            },
            tf5: {
                answer: 'falso',
                explanation: 'No, la macchina a vapore funziona con energia termica (calore) che viene convertita in energia meccanica tramite il vapore. L\'energia elettrica √® un tipo di energia completamente diverso.'
            },
            match1: {
                answer: 'caldaia',
                explanation: 'La caldaia √® il componente che scalda l\'acqua e produce il vapore ad alta pressione necessario per far funzionare il motore.'
            },
            match2: {
                answer: 'cassetto',
                explanation: 'Il cassetto di distribuzione √® il dispositivo che scorre aprendo e chiudendo le luci (aperture) per far entrare il vapore nel cilindro.'
            },
            match3: {
                answer: 'cilindro',
                explanation: 'Il cilindro √® il contenitore metallico all\'interno del quale si muove lo stantuffo, spinto dalla pressione del vapore.'
            },
            match4: {
                answer: 'stantuffo',
                explanation: 'Lo stantuffo (o pistone) √® il componente che si muove alternativamente dentro il cilindro quando viene spinto dal vapore.'
            },
            match5: {
                answer: 'biella',
                explanation: 'La biella √® l\'asta che collega lo stantuffo alla manovella, trasmettendo il movimento dal primo alla seconda.'
            },
            match6: {
                answer: 'manovella',
                explanation: 'La manovella √® il meccanismo che trasforma il movimento alternato (avanti-indietro) dello stantuffo in movimento rotatorio continuo dell\'albero motore.'
            },
            match7: {
                answer: 'volano',
                explanation: 'Il volano √® la grande ruota pesante che accumula energia cinetica e mantiene il moto per inerzia, rendendo uniforme la rotazione del motore.'
            },
            match8: {
                answer: 'azionatore',
                explanation: 'L\'azionatore del cassetto √® il meccanismo collegato all\'albero motore che fa scorrere il cassetto, cambiando la luce aperta ogni mezzo giro per alternare l\'entrata del vapore.'
            },
            order: {
                answer: [
                    'Il vapore entra nel motore ad alta pressione',
                    'Il cassetto apre la luce destra',
                    'Lo stantuffo viene spinto verso sinistra',
                    'La biella muove la manovella',
                    'Il volano continua la rotazione per inerzia',
                    'L\'azionatore apre la luce sinistra',
                    'Lo stantuffo si muove verso destra',
                    'Il vapore esausto esce dal cilindro'
                ],
                explanation: 'Questo √® il ciclo completo del motore a vapore: il vapore entra ad alta pressione ‚Üí il cassetto apre la luce destra ‚Üí lo stantuffo viene spinto verso sinistra ‚Üí la biella muove la manovella ‚Üí il volano mantiene la rotazione ‚Üí l\'azionatore apre la luce sinistra ‚Üí lo stantuffo torna verso destra ‚Üí il vapore esausto esce.'
            },
            q9: {
                answer: 'a',
                explanation: 'La luce destra √® l\'apertura sul lato destro del cilindro attraverso cui entra il vapore ad alta pressione per spingere lo stantuffo verso sinistra.'
            },
            q10: {
                answer: 'a',
                explanation: 'La luce sinistra si apre quando l\'albero motore ha compiuto mezzo giro (180¬∞), grazie all\'azionatore che muove il cassetto di distribuzione in sincronia con la rotazione.'
            },
            q11: {
                answer: 'a',
                explanation: 'Il vapore esausto √® il vapore che ha gi√† ceduto la sua energia spingendo lo stantuffo e quindi esce dal cilindro attraverso le aperture di scarico.'
            },
            q12: {
                answer: 'a',
                explanation: 'Il cilindro √® il contenitore metallico cilindrico all\'interno del quale scorre avanti e indietro lo stantuffo, grazie alla pressione del vapore.'
            }
        };

        let score = 0;
        let answeredQuestions = new Set();

        // Funzione per verificare domande a scelta multipla
        function checkQuestion(questionId) {
            const selected = document.querySelector(`input[name="${questionId}"]:checked`);
            const feedback = document.getElementById(`feedback-${questionId}`);
            
            if (!selected) return;
            
            const isCorrect = selected.value === correctAnswers[questionId].answer;
            
            if (isCorrect) {
                feedback.className = 'feedback correct';
                feedback.innerHTML = `‚úÖ <strong>Corretto!</strong>
                    <div class="explanation">${correctAnswers[questionId].explanation}</div>`;
                if (!answeredQuestions.has(questionId)) {
                    score++;
                    answeredQuestions.add(questionId);
                }
            } else {
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = `‚ùå <strong>Risposta errata</strong>
                    <div class="explanation">${correctAnswers[questionId].explanation}</div>`;
                if (!answeredQuestions.has(questionId)) {
                    answeredQuestions.add(questionId);
                }
            }
        }

        // Gestione Vero/Falso con feedback immediato
        function selectTF(id, value) {
            document.getElementById(id).value = value;
            const buttons = event.target.parentElement.querySelectorAll('.tf-button');
            buttons.forEach(btn => btn.classList.remove('selected'));
            event.target.classList.add('selected');
            
            // Verifica immediata
            const questionId = id;
            const feedback = document.getElementById(`feedback-${questionId}`);
            const isCorrect = value === correctAnswers[questionId].answer;
            
            if (isCorrect) {
                feedback.className = 'feedback correct';
                feedback.innerHTML = `‚úÖ <strong>Corretto!</strong>
                    <div class="explanation">${correctAnswers[questionId].explanation}</div>`;
                if (!answeredQuestions.has(questionId)) {
                    score++;
                    answeredQuestions.add(questionId);
                }
            } else {
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = `‚ùå <strong>Risposta errata</strong>
                    <div class="explanation">${correctAnswers[questionId].explanation}</div>`;
                if (!answeredQuestions.has(questionId)) {
                    answeredQuestions.add(questionId);
                }
            }
        }

        // Verifica associazioni con feedback immediato
        function checkMatch(matchId) {
            const selected = document.getElementById(matchId).value;
            const feedback = document.getElementById(`feedback-${matchId}`);
            
            if (!selected) {
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = '‚ö†Ô∏è <strong>Nessuna risposta selezionata</strong>';
                feedback.style.display = 'block';
                return;
            }
            
            const isCorrect = selected === correctAnswers[matchId].answer;
            
            if (isCorrect) {
                feedback.className = 'feedback correct';
                feedback.innerHTML = `‚úÖ <strong>Corretto!</strong>
                    <div class="explanation">${correctAnswers[matchId].explanation}</div>`;
                if (!answeredQuestions.has(matchId)) {
                    score++;
                    answeredQuestions.add(matchId);
                }
            } else {
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = `‚ùå <strong>Risposta errata</strong>
                    <div class="explanation">${correctAnswers[matchId].explanation}</div>`;
                if (!answeredQuestions.has(matchId)) {
                    answeredQuestions.add(matchId);
                }
            }
        }

        // ========================================
        // SISTEMA ORDINAMENTO CON FRECCE
        // ========================================
        
        // Elementi da ordinare (ordine casuale iniziale)
        let orderItems = [
            'La biella muove la manovella',
            'Il volano continua la rotazione per inerzia',
            'Il vapore entra nel motore ad alta pressione',
            'Lo stantuffo viene spinto verso sinistra',
            'L\'azionatore apre la luce sinistra',
            'Il cassetto apre la luce destra',
            'Il vapore esausto esce dal cilindro',
            'Lo stantuffo si muove verso destra'
        ];
        
        // Genera la lista
        function renderOrderList() {
            const list = document.getElementById('orderList');
            if (!list) return;
            
            list.innerHTML = orderItems.map((item, index) => `
                <div class="order-item">
                    <div class="order-number">${index + 1}</div>
                    <div class="order-buttons">
                        <button class="arrow-btn" onclick="moveUp(${index})" ${index === 0 ? 'disabled' : ''}>‚Üë</button>
                        <button class="arrow-btn" onclick="moveDown(${index})" ${index === orderItems.length - 1 ? 'disabled' : ''}>‚Üì</button>
                    </div>
                    <div class="order-text">${item}</div>
                </div>
            `).join('');
        }
        
        // Sposta su
        function moveUp(index) {
            if (index > 0) {
                [orderItems[index], orderItems[index - 1]] = [orderItems[index - 1], orderItems[index]];
                renderOrderList();
            }
        }
        
        // Sposta gi√π
        function moveDown(index) {
            if (index < orderItems.length - 1) {
                [orderItems[index], orderItems[index + 1]] = [orderItems[index + 1], orderItems[index]];
                renderOrderList();
            }
        }
        
        // Verifica ordine con feedback immediato
        function checkOrder() {
            const fb = document.getElementById('feedback-order');
            const correctOrder = correctAnswers.order.answer;
            let isCorrect = true;
            
            for (let i = 0; i < orderItems.length; i++) {
                if (orderItems[i] !== correctOrder[i]) {
                    isCorrect = false;
                    break;
                }
            }
            
            if (isCorrect) {
                fb.className = 'feedback correct';
                fb.innerHTML = `‚úÖ <strong>Ordine corretto!</strong><div class="explanation">${correctAnswers.order.explanation}</div>`;
                if (!answeredQuestions.has('order')) {
                    score++;
                    answeredQuestions.add('order');
                }
            } else {
                fb.className = 'feedback incorrect';
                let orderDisplay = correctOrder.map((item, idx) => `${idx + 1}. ${item}`).join('<br>');
                fb.innerHTML = `‚ùå <strong>Ordine errato</strong><div class="explanation"><strong>Ordine corretto:</strong><br>${orderDisplay}<br><br>${correctAnswers.order.explanation}</div>`;
                if (!answeredQuestions.has('order')) {
                    answeredQuestions.add('order');
                }
            }
        }
        
        // Inizializza quando la pagina √® caricata
        if (document.getElementById('orderList')) {
            renderOrderList();
        }

        // Mostra punteggio finale
        function showFinalScore() {
            const total = 26; // 12 scelta multipla + 5 vero/falso + 8 associazioni + 1 ordine
            const percentage = ((score / total) * 100).toFixed(1);
            const resultDiv = document.getElementById('result');
            
            let emoji = '';
            let message = '';
            
            if (percentage >= 90) {
                emoji = 'üèÜ';
                message = 'Eccellente! Ottima conoscenza del motore a vapore!';
            } else if (percentage >= 75) {
                emoji = 'üëç';
                message = 'Buono! Continua cos√¨!';
            } else if (percentage >= 60) {
                emoji = 'üìö';
                message = 'Sufficiente. Ripassa alcuni concetti.';
            } else {
                emoji = 'üìñ';
                message = 'Da ripassare. Studia ancora un po\'.';
            }
            
            resultDiv.innerHTML = `
                ${emoji} <strong>PUNTEGGIO FINALE</strong><br>
                <div style="font-size: 2em; margin: 15px 0;">${score}/${total}</div>
                <div style="font-size: 1.5em;">${percentage}%</div>
                <div style="font-size: 1em; margin-top: 10px; opacity: 0.95;">${message}</div>
            `;
            resultDiv.style.display = 'block';
            
            // Scroll al risultato
            resultDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
    </script>
</body>
</html>
